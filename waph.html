<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>WAPH-mav</title>
<link rel="stylesheet"
href=https://waph-uc.github.io/style1.css>
<link rel="icon" href ="data:;base64,iVBORw0KGgo="">
<style>
.button {
background-color: #4CAF50; /* Green */
border: none;
color: white;
padding: 5px;
text-align: center;
text-decoration: none;
display: inline-block;
font-size: 12px;
margin: 4px 2px;
cursor: pointer;
}
.round {border-radius: 8px;}
#response {background-color: #ff9800;} /* Orange */
</style>
<script>
	function encodeInput(input){
		const encoded = document.createElement('div');
		encoded.innertext = input;
		return encoded.innerHTML;
	}
</script>
<script src="https://code.jquery.com/jquery-3.7.1.min.js"
integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="crossorigin="anonymous">
</script>
integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="crossorigin="anonymous">
</script>
</head>
<body>
<div id="top">
 <h1>Web Application Programming and Hacking</h1> 
 <h2>Front-end-Web Development Lab</h2>
 <h3>Instructor: Dr. Phu Phung</h3>
</div>
<div id="menubar">
 <h3>Student: Akhil Kumar Yadav Markoll</h3>
 <img src="images/Akhilheadshot.jpg" alt="My headshot" width="50">
</div>
<div id="main">
 <p>A simple HTML tags</p>
</div>
</body>
 <hr>
 <b>Interaction with forms </b>
 <div>
	 <i>Form with an HTTP GET Request</i> 
	<form action= "/echo.php" method="GET">
   	Your input: <input name="data"> 
   	<input type = "submit" value = "submit">
 	 </form>
 </div>
 <div>
 	<i>Form with an HTTP POST Request</i>
   	<form action="/echo.php" method="POST"> 
	Your input: <input name="data"> 
   	<input type = "submit" value = "submit">
</form>
</div>
<hr>
<b>Experiments with JavaScript code</b><br>
 <i>Inlined JavaScript</i>
<div id="date" onclick="document.getElementById('date').innerHTML = Date()">Show Date()</div>
<input name= "data"
  onkeyup="console.log('You have pressed a Key')">
<div id= "email" onclick="showhideEmail()">Show my email</div>
 <script src = "email.js" ></script>
 <canvas id="analog-clock" width="150" height="150" style="background-color:#999"></canvas>
		<script src="https://waph-uc.github.io/clock.js"></script>
		<script>
			var canvas = document.getElementById("analog-clock");
			var ctx = canvas.getContext("2d");
			var radius = canvas.height / 2;
			ctx.translate(radius, radius);
			radius = radius * 0.90;
			setInterval(drawClock, 1000);

			function drawClock(){
				drawFace(ctx, radius);
				drawNumbers(ctx, radius);
				drawTime(ctx, radius);
			}
		</script>
<div>
	<i>Ajax requests</i></br>
	Your input:
	<input name="data"
		onkeypress="console.log('You have pressed a key')" id= "data">
	<input class = "button round" type="button" value = "AjaxEcho" onclick ="getEcho()">
	<input class="button round" type="button" value="jQuery Ajax GET Echo" onclick="jQueryAjax ()">
	<input class="button round" type="button" value="jQuery Ajax Post" onclick="jQueryAjaxPost()">
	<input class="button round" type="button" value="guess Age" onclick="guessAge($('data').val())">
	<div id = "response"></div>
</div>
<script>
	function getEcho(){
			var userInput = document.getElementById("data").value;
			if(userInput.length == 0)
			var(input = document.getElementById("data").value.trim();
			if(input.length == 0 || input.length> 100){
				alert("Please enter a Valid input")
				return;

			var xhr =  new XMLHttpRequest();
			xhr.onreadystatechange = function(){
				if(xhr.readyState == 4 && xhr.status == 200){
					console.log("Received data="+xhr.responseText);
					document.getElementById("response").innerHTML = "Response from server:" + xhr.responseText;
					console.log("Received data=" + encodeInput(xhr.responseText));
					document.getElementById("response").innerText = "Response from server:" + encodeInput(xhr.responseText);
				}
			}
			xhr.open("GET", "echo.php?data=" + userInput, true);
			xhr.open("GET", "echo.php?data=" + encodeURIComponent(input),true);
			xhr.send();
			document.getElementById("data").value="";
		}
	function jQueryAjax(){
			var input = $("#data").val();
			if(input.length == 0) return;
			$.get("echo.php?data="+input,function(result){$("#response").html("Response from server:"+result);
				});
			$("#data").val("");
			}
	function jQueryAjaxPost(){
			var input = $("#data").val();
			if(input.length == 0) return;
			$.post("echo.php",{data:input},
			       var input = $("#data").val().trim();
				if(input.length == 0 || input.length > 100)
					alert("Please enter a valid input")
					return;
				$.post("echo.php",{data: encodeURIComponent(input)},
				function(result){
					$("#response").html("Response from server:"+result);
					$("#response").html("Response from server:"+encodeInput(result));
				});
			$("#data").val("");
			}
	$.get("https://v2.jokeapi.dev/joke/Programming?type=single",
			function(result){
				console.log("From jokeAPI: "+ JSON.stringify(result));
				$("#response").html("A programming joke of the day: "+ result.joke);
				$("#response").html("A programming joke of the day: "+ encodeInput(result.joke));
		});
	async function guessAge(name) {
			name = encodeURIComponent(name).trim();
			if (name.length == 0 ||!/^[a-zA-Z ]+$.test(name)){
			    alert("Please enter a valid name");
				return;
			}	
			const response = await fetch("https://api.agify.io/?name="+name);
			const result = await response.json();
			$("#response").html("Hi " + name + ", your age should be "+ result.age);
		}
</script>
</html>

